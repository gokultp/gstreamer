# Gstreamer


## Architecture of Current System

```
                           Selects streamer                              Subscribe hooks
+----------------------+                     +------------------------+                    +--------------------------+
|                      +-------------------> |                        +------------------->+                          |
| Front End Service    |                     | Backend  Service       |                    |   Twitch API             |
|                      | <-------------------+                        | <------------------+                          |
+----------------------+   events through    +------------------------+   Webhook hits     +--------------------------+
                           Websockets

```

* Current System is a MVP with minimum UI serving REST APIs for Authentication, UserInfo, Streamer Info, Callbacks etc and using Websockets for pushing events to client 
* 



## Scalable Architecture

```
                                              +-------------------------------+
                                              |                               |
                                              |   +-----------------------+   |
                                           +------>   REST API SERV 1     +-------------+
                                           |  |   |                       |   |         |
                                           |  |   +-----------------------+   |         |
REST REQUEST +------------------------+    |  |                               |         |
             |                        |    |  |   +-----------------------+   |         |        PUBLISH {TOPIC=STREAMER_ID}
-----------> |   Load Balancer        +---------->+   REST API SERV 2     |   |         |
EVENT HOOKs  |                        |    |  |   |                       +--------------------------------------+
             +------------------------+    |  |   +-----------------------+   |         |                        |
                                           |  |                               |         |                        |
                                           |  |   +-----------------------+   |         |                        |
                                           +----->+  REST API SERV 3      |   |         |                        |
                                              |   |                       +-------------+                        |
                                              |   +-----------------------+   |                                  |
                                              |                               |                                  |
                                              |                               |                                  |
                                              +-------------------------------+                 +----------------v-----------------+
                                                     REST API SERVICE CLUSTER                   |                                  |
                                                                                                | APACHE KAFKA FOR PUB/SUB         |
                                                                                                |                                  |
                                              +--------------------------------+                +----------------+-----------------+
                                              |                                |                                 |
                                              |   +------------------------+   |                                 |
                                              |   |                        |   |                                 |
                                         +------->+  Websocket serv 1      <-----------------+                   |
                                         |    |   |                        |   |             |                   |
                                         |    |   +------------------------+   |             |                   |
                                         |    |                                |             |                   |
                                         |    |                                |             |                   |
     +-----------------------------+     |    |   +------------------------+   |             |                   |
     |                             |     |    |   |                        |   |             |                   |
-----> Websocket Serv. Orchestrator<--------------> Websocket serv 2       +<------------------------------------+
     |                             |     |    |   |                        |   |             |        SUBSCRIBE {TOPIC=STREAMER_ID}
     +-----------------------------+     |    |   +------------------------+   |             |
                                         |    |                                |             |
                                         |    |                                |             |
                                         |    |   +------------------------+   |             |
                                         |    |   |                        |   |             |
                                         +------->+  Websocket serv 3      <-----------------+
                                              |   |                        |   |
                                              |   +------------------------+   |
                                              |                                |
                                              +--------------------------------+
```